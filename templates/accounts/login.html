{% extends 'base.html' %}

{% block content %}
<div class="container py-4 py-lg-5 my-4">
    <div class="row">
      <div class="col-md-7">
        <div class="card border-0 shadow">
          <div class="card-body">
            <h2 class="h4 mb-1">Sign in/Sign up</h2>
            <!-- <div class="py-3">
              <h3 class="d-inline-block align-middle fs-base fw-medium mb-2 me-2">With social account:</h3>
              <div class="d-inline-block align-middle"><a class="btn-social bs-google me-2 mb-2" href="#" data-bs-toggle="tooltip" title="Sign in with Google"><i class="ci-google"></i></a><a class="btn-social bs-facebook me-2 mb-2" href="#" data-bs-toggle="tooltip" title="Sign in with Facebook"><i class="ci-facebook"></i></a><a class="btn-social bs-twitter me-2 mb-2" href="#" data-bs-toggle="tooltip" title="Sign in with Twitter"><i class="ci-twitter"></i></a></div>
            </div>
            <hr>
            <h3 class="fs-base pt-4 pb-2">Or using form below</h3> -->
            <br>

              <div class="pt-2 px-4 ps-lg-0 pe-xl-5">
                          <!-- Tabs-->
                          <ul class="nav nav-tabs nav-justified" role="tablist">
        
                            <li class="nav-item"><a class="nav-link px-0 active" href="#all" data-bs-toggle="tab" role="tab">
                              <div class="d-none d-lg-block"> <i class="ci-unlocked me-2 mt-n1"></i>Sign In</div>
                              <div class="d-lg-none text-center"><i class="ci-unlocked me-2 mt-n1"></i><span class="fs-ms">Sign In</span></div></a></li>
        
                            <li class="nav-item"><a class="nav-link px-0" href="#sign_up" data-bs-toggle="tab" role="tab">
                                <div class="d-none d-lg-block"> <i class="ci-user me-2 mt-n1"></i>Sign Up</div>
                                <div class="d-lg-none text-center"><i class="ci-user me-2 mt-n1"></i><span class="fs-ms">Sign Up</span></div></a></li>
        
                           
                          </ul>
              <div class="tab-content">
        
        
              <div class="tab-pane fade show active" id="all" role="tabpanel">

                <form action="{% url 'login' %}" class="needs-validation" novalidate method="POST" enctype="multipart/form-data">
                    {% csrf_token %}
                  <div class="input-group mb-3"><i class="ci-mail position-absolute top-50 translate-middle-y text-muted fs-base ms-3"></i>
                    <input class="form-control rounded-start" type="email" placeholder="Email" name="email" required>
                  </div>
                  <div class="input-group mb-3"><i class="ci-locked position-absolute top-50 translate-middle-y text-muted fs-base ms-3"></i>
                    <div class="password-toggle w-100">
                      <input class="form-control" type="password" id="password" placeholder="Password" name="password" required>
                      <label class="password-toggle-btn" aria-label="Show/hide password">
                        <input class="password-toggle-check" type="checkbox" id="togglePassword1" checked><span class="password-toggle-indicator"></span>
                      </label>
                    </div>
                  </div>
                  <div class="d-flex flex-wrap justify-content-between">
                    <div class="form-check" style="margin-left: 30px;">
                      <input class="form-check-input" type="checkbox" checked id="remember_me">
                      <label class="form-check-label" for="remember_me">Remember me</label><br><br>
                    </div><a class="nav-link-inline fs-sm me-4 aligh-right" href="{% url 'forgot_password' %}">Forgot password?</a>
                  </div>
                  <hr class="mt-4">
                  <div class="text-end pt-4">
                    <button class="btn btn-primary me-4 mb-4 btn-sm" type="submit"><i class="ci-sign-in me-2 ms-n21"></i>Sign In</button>
                  </div>
                </form>
                </div>
                <div class="tab-pane fade" id="sign_up" role="tabpanel"> 
             
                <form action="{% url 'registerUser' %}" class="needs-validation" novalidate method="POST" enctype="multipart/form-data">
                  {% csrf_token %}
               
                      <div class="row">
                              <div class="col-md-6">
                              <div class="mb-3">
                                <label class="form-label" for="su-firstname">First Name</label>
                                {{registerform.first_name}}
                                <div class="invalid-feedback">Please fill in your first name.</div>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="mb-3">
                                <label class="form-label" for="su-lastname">Last name</label>
                                {{registerform.last_name}}
                                <div class="invalid-feedback">Please fill in your last name.</div>
                              </div>
                              </div>
                      </div>
                
                      <div class="row">
                            <div class="col-md-6">
                            <div class="mb-3">
                              <label class="form-label" for="su-username">Username</label>
                              {{registerform.username}}
                              <div class="invalid-feedback">Please fill in your username.</div>
                            </div>
                          </div>
                          <div class="col-md-6">

                            <div class="mb-3">
                              <label class="form-label" for="su-phone">Phone Number</label>
                              {{registerform.phone_number}}
                              <div class="invalid-feedback">Please provide a valid phone number.</div>
                            </div>
                          </div>
                      </div>
              
                  <div class="mb-3">
                    <label class="form-label" for="su-email">Email address</label>
                    {{registerform.email}} 
                    <div class="invalid-feedback">Please provide a valid email address.</div>
                  </div>
                  <div class="mb-3">
                    <div class="row">
                      <div class="col-md-6">
                            <div class="mb-3">
                              <label class="form-label" for="su-password">Password</label>
                              <div class="password-toggle">
                                {{registerform.password}}
                                <label class="password-toggle-btn" aria-label="Show/hide password">
                                  <input class="password-toggle-check" type="checkbox"><span class="password-toggle-indicator"></span>
                                </label>
                              </div>
                            </div>
                          </div>
                            <div class="col-md-6">
                            <div class="mb-3">
                              <label class="form-label" for="su-password-confirm">Confirm password</label>
                              <div class="password-toggle">
                                {{registerform.confirm_password}}
                                <label class="password-toggle-btn" aria-label="Show/hide password">
                                  <input class="password-toggle-check" type="checkbox"><span class="password-toggle-indicator"></span>
                                </label>
                              </div>
                            </div>
                          </div>
                    </div>
                    </div>
                  {% for field in form %}
                  {% if field.errors %}
                  <ul class="errorlist">
                    {% for error in field.errors %}
                    <li style="color: red;">{{error}}</li>
                    {% endfor %}
                    </ul>
                  {% endif %} 
                {% endfor %}
              
      
                
                  <button class="btn btn-primary btn-shadow d-block w-100 btn-sm" type="submit">Sign up</button>

                  <div class="col-sm-12">
                    {% include 'includes/alerts.html' %}
                  </div>
            
                </form>
          </div>

          </div>

          </div>
          </div>
          </div>
          </div>
          </div>
          </div>
          

    <!-- <script>
      const togglePassword1 = document.querySelector("#togglePassword1");
      const password = document.querySelector("#password");

      togglePassword1.addEventListener("click", function () {
        // toggle the type attribute
        const type = password.getAttribute("type") === "password" ? "text" : "password";
        password.setAttribute("type", type);
        
    });
  </script> -->
{% endblock %}